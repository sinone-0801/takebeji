<!DOCTYPE html>
<html lang="ja">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<script src="./js/sdk.js" async="" crossorigin="anonymous"></script>
	<script async="" src="./js/js"></script>
	<link href="./css/all.css" rel="stylesheet">
	<script>
	window.dataLayer = window.dataLayer || [];
	        function gtag(){dataLayer.push(arguments);}
	        gtag('js', new Date());
	        gtag('config', 'G-Q8HCF284FH');
	</script>

	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>農と食なひと　たけべじ</title>
	<meta name="description" content="兵庫県で「農と食」に向き合ってる農家夫婦のモノコト発信サイト。無農薬無化学肥料栽培のお野菜定期便や、「ホンモノごはん」を作ったり伝えたりしています。キッズから大人まで！「ハイパワーなご飯付き 農家の一日体験」も計画中。シンプルな豊かさを考えてみませんか？">
	<meta name="keywords" content="無農薬野菜,有機野菜,おやさい便,農と食,たけべじ,オーガニック,無農薬無化学肥料,たけべじ通販">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta property="og:title" content="農と食なひと　たけべじ">
	<meta property="og:description" content="兵庫県で「農と食」に向き合ってる農家夫婦のモノコト発信サイト。無農薬無化学肥料栽培のお野菜定期便や、「ホンモノごはん」を作ったり伝えたりしています。キッズから大人まで！「ハイパワーなご飯付き 農家の一日体験」も計画中。シンプルな豊かさを考えてみませんか？">
	<meta property="og:url" content="./index.html">
    <meta property="og:image" content="./imges/takebeji_icon_L.jpg">
	<meta property="og:type" content="website">
	<meta property="og:site_name" content="農と食なひと　たけべじ">
	<meta property="fb:app_id" content="1581362032128406">
	<meta name="twitter:card" content="summary">
	<meta name="twitter:title" content="農と食なひと　たけべじ">
	<meta name="twitter:description" content="兵庫県で「農と食」に向き合ってる農家夫婦のモノコト発信サイト。無農薬無化学肥料栽培のお野菜定期便や、「ホンモノごはん」を作ったり伝えたりしています。キッズから大人まで！「ハイパワーなご飯付き 農家の一日体験」も計画中。シンプルな豊かさを考えてみませんか？">
	<meta name="twitter:url" content="./index.html">
	<meta name="twitter:image" content="./imges/takebeji_icon_L.jpg">
	<meta name="google-site-verification" content="FdEBuBNGQaoHbB4YfQhtwNmGuDGfTNleD-vJiyYFxEo">

	<!-- icon -->
	<link rel="apple-touch-icon" sizes="180x180" href="./images/takebeji_icon.png">
	<link rel="icon" href="./images/favicon.ico">
	<link rel="manifest" href="./manifest.json">
	<link rel="preconnect" href="https://fonts.googleapis.com/">
	<link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
</head>

<body class="shop shop-botanical">

    <!-- ヘッダー -->
    <div id="header_html"></div>
    <script>
        fetch('./header.html')
        .then(response => response.text())
        .then(data => {
            document.getElementById('header_html').innerHTML = data;
        });
    </script>

    <!-- ナビゲーション -->
    <div id="navi_html"></div>
    <script>
		fetch('./navi.html')
		.then(response => response.text())
		.then(data => {
			document.getElementById('navi_html').innerHTML = data;
			// DOMが更新された後にイベントリスナーを設定
			setTimeout(initializeNavigation, 3000);
		});

		function initializeNavigation() {
			// メニューを開く処理を追加
			const hamburgerButton = document.querySelector('.header_hum');
			if (hamburgerButton) {
				hamburgerButton.addEventListener('click', function() {
					document.querySelector('.drawer').classList.add('show');
				});
			}

			// メニューを閉じる処理を修正
			const closeButton = document.querySelector('.drawer_controll_close');
			if (closeButton) {
				closeButton.addEventListener('click', function() {
					document.querySelector('.drawer').classList.remove('show');
				});
			}
		}
    </script>

	<!-- メルマガ登録確認モーダル -->
    <div id="mailMagazine_modal_html"></div>
    <script>
		fetch('./mailMagazine_modal.html')
		.then(response => response.text())
		.then(data => {
			document.getElementById('mailMagazine_modal_html').innerHTML = data;
			setTimeout(initializeModal, 3000);
		});
		function initializeModal() {
			// モーダルを開く
			$('.js-show-modalClass, .js-show-merumaga-modalClass, .js-show-nomore-shop-modalClass').off('click').on('click', function(e) {
				const target = $(e.currentTarget).attr('data-target-class');
				// display: block で表示
				$('.js-modal-' + target)
					.removeClass('hidden')
					.css('display', 'block');
				$('.modal-overlay').css('display', 'block');
			});

			// モーダルを閉じる
			$('.js-close-modal').off('click').on('click', function() {
				// すべてのモーダルを非表示
				$('.js-modal-closeTarget').each(function() {
					$(this)
						.addClass('hidden')
						.css('display', 'none');
				});
				// オーバーレイを非表示
				$('.modal-overlay').css('display', 'none');
			});

			// オーバーレイクリック時も同様の処理
			$('.modal-overlay').off('click').on('click', function() {
				// すべてのモーダルを非表示
				$('.js-modal-closeTarget').each(function() {
					$(this)
						.addClass('hidden')
						.css('display', 'none');
				});
				// オーバーレイを非表示
				$(this).css('display', 'none');
			});

			// デバッグ用：要素が見つかっているか確認
			console.log('Close buttons found:', $('.js-close-modal').length);
			console.log('Modal targets found:', $('.js-modal-closeTarget').length);
			
			// 初期状態の確認（デバッグ用）
			console.log('Initial modal display states:');
			$('.js-modal-closeTarget').each(function() {
				console.log($(this).attr('class'), 'display:', $(this).css('display'));
			});
		}
    </script>
	
	<div id="funclub_html"></div>
    <script>
        fetch('./funclub.html')
        .then(response => response.text())
        .then(data => {
            document.getElementById('funclub_html').innerHTML = data;
			setTimeout(initializeModal, 3000);
		});
		function initializeModal() {
			// モーダルを開く
			$('.js-show-modalClass, .js-show-merumaga-modalClass, .js-show-nomore-shop-modalClass').off('click').on('click', function(e) {
				const target = $(e.currentTarget).attr('data-target-class');
				// display: block で表示
				$('.js-modal-' + target)
					.removeClass('hidden')
					.css('display', 'block');
				$('.modal-overlay').css('display', 'block');
			});

			// モーダルを閉じる
			$('.js-close-modal').off('click').on('click', function() {
				// すべてのモーダルを非表示
				$('.js-modal-closeTarget').each(function() {
					$(this)
						.addClass('hidden')
						.css('display', 'none');
				});
				// オーバーレイを非表示
				$('.modal-overlay').css('display', 'none');
			});

			// オーバーレイクリック時も同様の処理
			$('.modal-overlay').off('click').on('click', function() {
				// すべてのモーダルを非表示
				$('.js-modal-closeTarget').each(function() {
					$(this)
						.addClass('hidden')
						.css('display', 'none');
				});
				// オーバーレイを非表示
				$(this).css('display', 'none');
			});

			// デバッグ用：要素が見つかっているか確認
			console.log('Close buttons found:', $('.js-close-modal').length);
			console.log('Modal targets found:', $('.js-modal-closeTarget').length);
			
			// 初期状態の確認（デバッグ用）
			console.log('Initial modal display states:');
			$('.js-modal-closeTarget').each(function() {
				console.log($(this).attr('class'), 'display:', $(this).css('display'));
			});
		}
    </script>
    
    <!-- メイン -->
	<main class="l-mainContainer top shop_bg-grad" style="background-image: url('images/background.svg');">
        <!-- main visual -->
        <div id="main_visual_html" style="padding-bottom: 85px;"></div>
        <script>
            fetch('./main_visual.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('main_visual_html').innerHTML = data;
                // HTML内のスクリプトを実行
                const scripts = document.getElementById('main_visual_html').getElementsByTagName('script');
                for (let script of scripts) {
                eval(script.innerHTML);
                }
            });
        </script>

        <!-- main content -->
        <div id="top_overview_html"></div>
        <script>
            fetch('./top_overview.html')
              .then(response => response.text())
              .then(data => {
                document.getElementById('top_overview_html').innerHTML = data;
              });
        </script>

        <div id="top_products_html"></div>
        <script>
            fetch('./top_products.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('top_products_html').innerHTML = data;
            });
        </script>

        <div id="top_news_html"></div>
        <script>
            fetch('./top_news.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('top_news_html').innerHTML = data;
            });
        </script>

        <div id="top_mailMagazine_html"></div>
        <script>
            fetch('./top_mailMagazine.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('top_mailMagazine_html').innerHTML = data;
                });
        </script>


        <div id="top_fanclub_html"></div>
        <script>
            fetch('./top_fanclub.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('top_fanclub_html').innerHTML = data;
            });
        </script>

        <div id="top_info-contact_html"></div>
        <script>
            fetch('./top_info-contact.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('top_info-contact_html').innerHTML = data;
            });
        </script>
	</main>

    <!-- フッター -->
    <div id="footer_html"></div>
    <script>
        fetch('./footer.html')
        .then(response => response.text())
        .then(data => {
            document.getElementById('footer_html').innerHTML = data;
        });
    </script>

	<!-- ショップ終了モーダル -->
	<div id="nomoreShop_modal_html"></div>
	<script>
		fetch('./nomoreShop_modal.html')
		.then(response => response.text())
		.then(data => {
			document.getElementById('nomoreShop_modal_html').innerHTML = data;
		});
	</script>

	<div class="modal-overlay js-modal-overlay js-close-modal">
	</div>
	<script src="./js/jquery-3.5.1.min.js"></script>
	<script src="./js/slick.1.8.1min.js"></script>
	<script src="./js/global.js"></script>
	<script src="./js/shop.js"></script>
	<script>
	$(document).ready(function(){
	        if($('.menu_more_pc_class').find('a').length < 1)
	        {
	            $('.menu_more_pc_class').remove();
	        }
	        if($('.menu_more_sp_class').find('a').length < 2)
	        {
	            $('.menu_more_sp_class').remove();
	        }
	    });
	</script>
	<script src="./js/top.js"></script>
	<script src="./js/shop_mainvisual.js"></script>
	<script type="text/javascript">
	function changeTopProductTab() {
	            const li = $('.js-top-product .js-top-product-tab li')
	            product = $('.js-top-product .js-top-product-inner .js-top-product-item')
	            li.on('click', function() {
	                const _this = $(this),
	                    type = _this.attr('data-type')
	                //　ガード
	                if (_this.hasClass('active')) {
	                    return false
	                }
	                li.removeClass('active')
	                _this.addClass('active')
	                product.removeClass('active')
	                product.filter('[data-type="' + type + '"]').addClass('active')
	                return false
	            })
	        }
	        // Shop top - Coupon slider
	        function couponSlider(section) {
	            const elem = $('.top_' + section + '_slider');
	            if (document.documentElement.clientWidth < 1001) {
	                $('.top_' + section + '_slider').not('.slick-initialized').slick({
	                    infinite: false,
	                    dots: true,
	                });
	            } else {
	                $('.top_' + section + '_slider .slick-initialized').slick('unslick');
	            }
	        }
	        function setSlider() {
	            const elem = $('.js-slider2-top-product');
	            elem.each(function() {
	                if ($(this).length == 0) {
	                    return;
	                }
	                let clientWidth_isPC = document.documentElement.clientWidth > 1000;
	                if (clientWidth_isPC) {
	                    $(this).not('.slick-initialized').slick({
	                        infinite: false,
	                        // PR無しのとき
	                        slidesToShow: 7,
	                        slidesToScroll: 7,
	                        initialSlide: 0,
	                        dots: false,
	                        arrows: true,
	                    });
	                } else {
	                    $(this).filter('.slick-initialized').slick('unslick');
	                }
	            })
	        }
	</script>
	<script type="text/javascript" src="./js/Sp1Hmg"></script>
</body>

</html>